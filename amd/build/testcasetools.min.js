define("qtype_coderunnerex/testcasetools",["qtype_coderunnerex/localresmanager"],(function(_ref){let{localResManager:localResManager}=_ref;function createCopyButton(parentElem,caption,hint){if(parentElem.__$sampleCopyBtn__)return null;var btn=parentElem.ownerDocument.createElement("button");return btn.className="CodeRunner-SampleCopyBtn",btn.setAttribute("type","button"),btn.setAttribute("title",hint),btn.innerHTML="<span>"+caption+"</span>",btn.addEventListener("click",(function(e){var codeElem=parentElem.getElementsByTagName("pre")[0];if(codeElem){var text=codeElem.innerText;!function(doc,text,invokerElem){var textHolder=function(doc){if(doc.__$clipboardTextHolder$__)return doc.__$clipboardTextHolder$__;var elem=document.createElement("textarea");return elem.className="CodeRunner-SampleCopyTextHolder",doc.body.appendChild(elem),doc.__$clipboardTextHolder$__=elem,elem}(doc);invokerElem.parentNode.appendChild(textHolder),textHolder.value=text,textHolder.focus(),textHolder.select(),doc.execCommand("copy"),invokerElem.focus()}(btn.ownerDocument,text,btn)}})),parentElem.appendChild(btn),parentElem.__$sampleCopyBtn__=btn,btn}return{init:function(_ref4){let{displayCopyButtonForTestCaseInput:displayCopyButtonForTestCaseInput=!0,displayCopyButtonForTestCaseOutput:displayCopyButtonForTestCaseOutput=!0,displayCopyButtonForTestCaseCode:displayCopyButtonForTestCaseCode=!0,displayCopyButtonForTestCaseExpected:displayCopyButtonForTestCaseExpected=!0,displayCopyButtonForExampleTable:displayCopyButtonForExampleTable=!0}=_ref4;const doInit=()=>async function(_ref3){let{displayCopyButtonForTestCaseInput:displayCopyButtonForTestCaseInput,displayCopyButtonForTestCaseOutput:displayCopyButtonForTestCaseOutput,displayCopyButtonForTestCaseCode:displayCopyButtonForTestCaseCode,displayCopyButtonForTestCaseExpected:displayCopyButtonForTestCaseExpected,displayCopyButtonForExampleTable:displayCopyButtonForExampleTable}=_ref3;const localStrings=await localResManager.getLocalStrings(["copy_to_clipboard_caption","copy_to_clipboard_hint"]),targetElems=function(rootElem,_ref2){let{displayCopyButtonForTestCaseInput:displayCopyButtonForTestCaseInput,displayCopyButtonForTestCaseOutput:displayCopyButtonForTestCaseOutput,displayCopyButtonForTestCaseCode:displayCopyButtonForTestCaseCode,displayCopyButtonForTestCaseExpected:displayCopyButtonForTestCaseExpected,displayCopyButtonForExampleTable:displayCopyButtonForExampleTable}=_ref2;if(rootElem.querySelectorAll){let selectors=[];displayCopyButtonForExampleTable&&selectors.push(".coderunnerexamples tbody td"),displayCopyButtonForTestCaseCode&&selectors.push(".coderunner-test-results tbody td.col_testcode"),displayCopyButtonForTestCaseInput&&selectors.push(".coderunner-test-results tbody td.col_stdin"),displayCopyButtonForTestCaseOutput&&selectors.push(".coderunner-test-results tbody td.col_got"),displayCopyButtonForTestCaseExpected&&selectors.push(".coderunner-test-results tbody td.col_expected");const selector=selectors.join(", ");return selector?rootElem.querySelectorAll(selector):[]}return[]}(document.body,{displayCopyButtonForTestCaseInput:displayCopyButtonForTestCaseInput,displayCopyButtonForTestCaseOutput:displayCopyButtonForTestCaseOutput,displayCopyButtonForTestCaseCode:displayCopyButtonForTestCaseCode,displayCopyButtonForTestCaseExpected:displayCopyButtonForTestCaseExpected,displayCopyButtonForExampleTable:displayCopyButtonForExampleTable});if(targetElems)for(var i=0,l=targetElems.length;i<l;++i)createCopyButton(targetElems[i],localStrings.copy_to_clipboard_caption,localStrings.copy_to_clipboard_hint)}({displayCopyButtonForTestCaseInput:displayCopyButtonForTestCaseInput,displayCopyButtonForTestCaseOutput:displayCopyButtonForTestCaseOutput,displayCopyButtonForTestCaseCode:displayCopyButtonForTestCaseCode,displayCopyButtonForTestCaseExpected:displayCopyButtonForTestCaseExpected,displayCopyButtonForExampleTable:displayCopyButtonForExampleTable});(displayCopyButtonForTestCaseInput||displayCopyButtonForTestCaseOutput||displayCopyButtonForTestCaseCode||displayCopyButtonForTestCaseExpected||displayCopyButtonForExampleTable)&&("loading"===document.readyState?doc.addEventListener("DOMContentLoaded",(function(e){doInit()})):doInit())}}}));

//# sourceMappingURL=testcasetools.min.js.map